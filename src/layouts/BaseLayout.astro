---
// src/layouts/BaseLayout.astro
import GlobalFooter from '../components/GlobalFooter.astro';
import Navbar from '../components/Navbar.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import GoogleAnalytics from '../components/GoogleAnalytics.astro';
import SEO from '../components/SEO.astro'; // The new Engine

interface Props {
  title: string;
  description: string;
  image?: string;
  schema?: object; // New prop for structured data injection
}

const { title, description, image, schema } = Astro.props;
---

<html lang="en">
  <head>
    <GoogleAnalytics />

    <SEO 
      title={title} 
      description={description} 
      image={image}
      schema={schema}
    />
  </head>
  
  <body class="bg-gray-50 text-gray-900 font-sans flex flex-col min-h-screen">
    
    <Navbar /> 

    <div class="flex-grow">
      <slot />
    </div>

    <GlobalFooter />

    <WhatsAppButton />
    
    <form name="contact" netlify netlify-honeypot="bot-field" hidden>
      <input type="text" name="name" />
      <input type="email" name="email" />
      <input type="tel" name="phone" />
      <select name="service"></select>
      <textarea name="message"></textarea>
    </form>
  </body>
</html>
